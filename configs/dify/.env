# Dify Core Configuration
EDITION=SELF_HOSTED
DEPLOY_ENV=PRODUCTION
LOG_LEVEL=INFO
DEBUG=false
FLASK_DEBUG=false
SECRET_KEY=REPLACE_WITH_GENERATED_SECRET

# Database Configuration (PostgreSQL)
DB_USERNAME=postgres
DB_PASSWORD=REPLACE_WITH_GENERATED_DB_PASSWORD
DB_HOST=postgres
DB_PORT=5432
DB_DATABASE=dify

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_GENERATED_REDIS_PASSWORD
REDIS_USE_SSL=false
REDIS_DB=0
CELERY_BROKER_URL=redis://:REPLACE_WITH_GENERATED_REDIS_PASSWORD@redis:6379/1

# Storage Configuration
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=/app/storage
S3_USE_AWS_MANAGED_IAM=false

# Vector Database (Weaviate)
VECTOR_STORE=weaviate
WEAVIATE_ENDPOINT=http://weaviate:8080
WEAVIATE_API_KEY=REPLACE_WITH_GENERATED_WEAVIATE_KEY
WEAVIATE_BATCH_SIZE=100

# LLM Configuration (LiteLLM Proxy)
OPENAI_API_BASE=http://litellm:4000/v1
OPENAI_API_KEY=REPLACE_WITH_LITELLM_KEY

# Security
CODE_EXECUTION_ENDPOINT=http://sandbox:8194
CODE_EXECUTION_API_KEY=dify-sandbox
CODE_MAX_NUMBER=9223372036854775807
CODE_MIN_NUMBER=-9223372036854775808
CODE_MAX_STRING_LENGTH=80000
CODE_MAX_STRING_ARRAY_LENGTH=30
CODE_MAX_OBJECT_ARRAY_LENGTH=30
CODE_MAX_NUMBER_ARRAY_LENGTH=1000

# File Upload
UPLOAD_FILE_SIZE_LIMIT=15
UPLOAD_FILE_BATCH_LIMIT=5
UPLOAD_IMAGE_FILE_SIZE_LIMIT=10

# Web Frontend
CONSOLE_WEB_URL=https://REPLACE_WITH_TAILSCALE_IP:8443
CONSOLE_API_URL=https://REPLACE_WITH_TAILSCALE_IP:8443
SERVICE_API_URL=https://REPLACE_WITH_TAILSCALE_IP:8443
APP_WEB_URL=https://REPLACE_WITH_TAILSCALE_IP:8443

# Admin Setup
INIT_PASSWORD=REPLACE_WITH_GENERATED_INIT_PASSWORD
CONSOLE_CORS_ALLOW_ORIGINS=*

# Rate Limiting
API_TOOL_DEFAULT_CONNECT_TIMEOUT=10
API_TOOL_DEFAULT_READ_TIMEOUT=60

# Session Configuration
SESSION_TYPE=redis
SESSION_PERMANENT=true
SESSION_USE_SIGNER=true

# Mail Configuration (Optional)
MAIL_TYPE=
MAIL_DEFAULT_SEND_FROM=
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# Indexing Configuration
INDEXING_MAX_SEGMENTATION_TOKENS_LENGTH=1000

# Multimodal
MULTIMODAL_SEND_IMAGE_FORMAT=base64

# SSRF Protection
SSRF_PROXY_HTTP_URL=http://ssrf_proxy:3128
SSRF_PROXY_HTTPS_URL=http://ssrf_proxy:3128
